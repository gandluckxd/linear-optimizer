# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å—á–µ—Ç–∞ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—Ç—Ö–æ–¥–æ–≤

## üêõ –ü—Ä–æ–±–ª–µ–º–∞
–ü–æ—Å–ª–µ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –æ—à–∏–±–∫–∏ —Å –ø—Ä–µ–≤—ã—à–µ–Ω–∏–µ–º –¥–ª–∏–Ω—ã —Ö–ª—ã—Å—Ç–∞ –æ–±–Ω–∞—Ä—É–∂–∏–ª–∞—Å—å –ø—Ä–æ–±–ª–µ–º–∞ —Å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –æ—Ç—Ö–æ–¥–æ–≤. –°–∏—Å—Ç–µ–º–∞ –ø–æ–∫–∞–∑—ã–≤–∞–ª–∞ –æ—Ç—Ö–æ–¥—ã = 0, —Ö–æ—Ç—è —Ä–µ–∞–ª—å–Ω–æ –æ—Å—Ç–∞–≤–∞–ª—Å—è –º–∞—Ç–µ—Ä–∏–∞–ª.

## üîç –ü—Ä–∏—á–∏–Ω–∞
–í –ª–æ–≥–∏–∫–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä–∞ –µ—Å—Ç—å —Ä–∞–∑–ª–∏—á–∏–µ –º–µ–∂–¥—É **–æ—Ç—Ö–æ–¥–∞–º–∏** –∏ **–æ—Å—Ç–∞—Ç–∫–∞–º–∏**:

- **–û—Å—Ç–∞—Ç–æ–∫** (remainder) - –∫—É—Å–æ–∫ >= –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –¥–ª–∏–Ω—ã (300–º–º), –ø—Ä–∏–≥–æ–¥–Ω—ã–π –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- **–û—Ç—Ö–æ–¥—ã** (waste) - –∫—É—Å–æ–∫ < –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –¥–ª–∏–Ω—ã, –Ω–µ–ø—Ä–∏–≥–æ–¥–Ω—ã–π –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

–ö–æ–≥–¥–∞ –æ—Å—Ç–∞—Ç–æ–∫ >= –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –¥–ª–∏–Ω—ã, –æ—Ç—Ö–æ–¥—ã –æ–±–Ω—É–ª—è—é—Ç—Å—è:
```python
if waste >= self.settings.min_remainder_length:
    remainder = waste
    waste = 0  # –û–±–Ω—É–ª—è–µ–º –æ—Ç—Ö–æ–¥—ã!
```

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### 1. –£–ª—É—á—à–µ–Ω–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ GUI

#### –í —Ç–∞–±–ª–∏—Ü–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:
- **–û—Ç—Ö–æ–¥—ã**: `5 (–æ—Å—Ç–∞—Ç–æ–∫: 485)` - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏ –æ—Ç—Ö–æ–¥—ã, –∏ –æ—Å—Ç–∞—Ç–æ–∫
- **% –æ—Ç—Ö–æ–¥—ã**: `0.1% üì¶` - –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä üì¶ –æ–∑–Ω–∞—á–∞–µ—Ç –Ω–∞–ª–∏—á–∏–µ –æ—Å—Ç–∞—Ç–∫–∞

#### –í –ø–æ–¥—Å–∫–∞–∑–∫–∞—Ö (tooltip):
```
üìä –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:
–î–ª–∏–Ω–∞ —Ö–ª—ã—Å—Ç–∞: 3000–º–º
–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–µ—Ç–∞–ª–µ–π: 3—à—Ç
–°—É–º–º–∞ –¥–ª–∏–Ω –¥–µ—Ç–∞–ª–µ–π: 2500–º–º
–®–∏—Ä–∏–Ω–∞ –ø—Ä–æ–ø–∏–ª–æ–≤: 10–º–º
–û–±—â–∞—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω–∞—è –¥–ª–∏–Ω–∞: 2510–º–º
–û—Å—Ç–∞—Ç–æ–∫: 485–º–º (–ø—Ä–∏–≥–æ–¥–µ–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
–û—Ç—Ö–æ–¥—ã (–ø–æ–∫–∞–∑–∞–Ω–æ): 0–º–º (0.0%)
–†–µ–∞–ª—å–Ω—ã–π –æ—Å—Ç–∞—Ç–æ–∫: 490–º–º
```

### 2. –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–ø—Ç

–°–æ–∑–¥–∞–Ω `test_waste_calculation.py` –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:
- –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Ä—É—á–Ω—ã–µ —Ä–∞—Å—á–µ—Ç—ã —Å –º–µ—Ç–æ–¥–∞–º–∏ —Å–∏—Å—Ç–µ–º—ã
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É –æ—Ç—Ö–æ–¥–∞–º–∏ –∏ –æ—Å—Ç–∞—Ç–∫–∞–º–∏
- –í—ã—è–≤–ª—è–µ—Ç —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è –≤ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è—Ö

## üìä –õ–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–æ–≤

### –û—Å–Ω–æ–≤–Ω–∞—è —Ñ–æ—Ä–º—É–ª–∞:
```
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω–∞—è –¥–ª–∏–Ω–∞ = –°—É–º–º–∞ –¥–µ—Ç–∞–ª–µ–π + –®–∏—Ä–∏–Ω–∞ –ø—Ä–æ–ø–∏–ª–æ–≤
–†–µ–∞–ª—å–Ω—ã–π –æ—Å—Ç–∞—Ç–æ–∫ = –î–ª–∏–Ω–∞ —Ö–ª—ã—Å—Ç–∞ - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω–∞—è –¥–ª–∏–Ω–∞

–ï—Å–ª–∏ –†–µ–∞–ª—å–Ω—ã–π –æ—Å—Ç–∞—Ç–æ–∫ >= –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ (300–º–º):
    –û—Å—Ç–∞—Ç–æ–∫ = –†–µ–∞–ª—å–Ω—ã–π –æ—Å—Ç–∞—Ç–æ–∫
    –û—Ç—Ö–æ–¥—ã = 0
–ò–Ω–∞—á–µ:
    –û—Å—Ç–∞—Ç–æ–∫ = 0  
    –û—Ç—Ö–æ–¥—ã = –†–µ–∞–ª—å–Ω—ã–π –æ—Å—Ç–∞—Ç–æ–∫
```

### –ü—Ä–∏–º–µ—Ä —Ä–∞—Å—á–µ—Ç–∞:
```
–•–ª—ã—Å—Ç: 3000–º–º
–î–µ—Ç–∞–ª–∏: 2x1000–º–º + 1x500–º–º = 2500–º–º
–ü—Ä–æ–ø–∏–ª—ã: 5–º–º √ó 2 = 10–º–º
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ: 2500 + 10 = 2510–º–º
–†–µ–∞–ª—å–Ω—ã–π –æ—Å—Ç–∞—Ç–æ–∫: 3000 - 2510 = 490–º–º

–ü–æ—Å–∫–æ–ª—å–∫—É 490–º–º >= 300–º–º (–º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞):
‚úÖ –û—Å—Ç–∞—Ç–æ–∫: 490–º–º (–ø—Ä–∏–≥–æ–¥–µ–Ω)
‚úÖ –û—Ç—Ö–æ–¥—ã: 0–º–º
```

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

### ‚úÖ –¢–µ–ø–µ—Ä—å –≤ GUI –≤–∏–¥–Ω–æ:
- **–†–µ–∞–ª—å–Ω—É—é –∫–∞—Ä—Ç–∏–Ω—É** –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –º–∞—Ç–µ—Ä–∏–∞–ª–∞
- **–†–∞–∑–ª–∏—á–∏–µ** –º–µ–∂–¥—É –æ—Ç—Ö–æ–¥–∞–º–∏ –∏ –æ—Å—Ç–∞—Ç–∫–∞–º–∏
- **–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã** üì¶ –¥–ª—è –ø–ª–∞–Ω–æ–≤ —Å –æ—Å—Ç–∞—Ç–∫–∞–º–∏
- **–î–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é** –≤ –ø–æ–¥—Å–∫–∞–∑–∫–∞—Ö

### ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–Ω–∏–º–∞–µ—Ç:
- –ü–æ—á–µ–º—É –æ—Ç—Ö–æ–¥—ã = 0 (–µ—Å—Ç—å –ø–æ–ª–µ–∑–Ω—ã–π –æ—Å—Ç–∞—Ç–æ–∫)
- –°–∫–æ–ª—å–∫–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞ —Ä–µ–∞–ª—å–Ω–æ –æ—Å—Ç–∞–µ—Ç—Å—è
- –ö–∞–∫–∏–µ –ø–ª–∞–Ω—ã –∏–º–µ—é—Ç –ø—Ä–∏–≥–æ–¥–Ω—ã–µ –æ—Å—Ç–∞—Ç–∫–∏

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É:
```bash
python test_waste_calculation.py
```

–°–∫—Ä–∏–ø—Ç –ø–æ–∫–∞–∂–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—ã–µ —Ä–∞—Å—á–µ—Ç—ã –∏ –≤—ã—è–≤–∏—Ç –ª—é–±—ã–µ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è.

## üìÅ –ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ñ–∞–π–ª—ã

- `client/gui/table_widgets.py` - —É–ª—É—á—à–µ–Ω–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—Ç—Ö–æ–¥–æ–≤ –∏ –æ—Å—Ç–∞—Ç–∫–æ–≤
- `client/test_waste_calculation.py` - –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–ø—Ç
- `client/core/optimizer.py` - –ª–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞ –æ—Å—Ç–∞—Ç–∫–æ–≤ (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)

–¢–µ–ø–µ—Ä—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—Ç—Ö–æ–¥–æ–≤ —Å—Ç–∞–ª–æ **–ø–æ–Ω—è—Ç–Ω—ã–º –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–º**! üìä‚ú®